# Value-Momentum-Options Model: Parameter Optimization Experiment
# This experiment optimizes key parameters for the value_momentum_options_v1 model
#
# Usage:
#   quantfw run-experiment experiments/value_momentum_optimize_v1.yaml

experiment_id: "value_momentum_optimize_2024"
description: "Optimize value-momentum-options model parameters for risk-adjusted returns"

# Test universe: Diverse large-cap stocks
universe:
  tickers_file: "config/value_momentum_test_universe.txt"

# Test period: 3 years (2021-2024)
start_date: "2021-01-01"
end_date: "2024-01-01"
lookback_days: 365

# Parameter sweeps for optimization
parameter_sweeps:
  # Sweep 1: Portfolio size (number of positions)
  - model_id: "value_momentum_options_v1"
    base_parameters:
      min_market_cap: 10000000000  # 10B minimum for liquidity
      min_dollar_volume: 10000000   # 10M daily volume
    sweep_parameters:
      target_positions: [10, 15, 20, 25, 30]

  # Sweep 2: Risk tolerance (volatility threshold)
  - model_id: "value_momentum_options_v1"
    base_parameters:
      target_positions: 20
      min_market_cap: 10000000000
      min_dollar_volume: 10000000
    sweep_parameters:
      max_volatility: [0.50, 0.60, 0.70, 0.80]

  # Sweep 3: Quality filters (ROE threshold)
  - model_id: "value_momentum_options_v1"
    base_parameters:
      target_positions: 20
      min_market_cap: 10000000000
      min_dollar_volume: 10000000
      max_volatility: 0.70
    sweep_parameters:
      min_roe: [0.05, 0.08, 0.10, 0.12, 0.15]

  # Sweep 4: Valuation filters (P/E threshold)
  - model_id: "value_momentum_options_v1"
    base_parameters:
      target_positions: 20
      min_market_cap: 10000000000
      min_dollar_volume: 10000000
      max_volatility: 0.70
      min_roe: 0.10
    sweep_parameters:
      max_pe: [30, 40, 50, 75, 100]

  # Sweep 5: Momentum filters (6-month return threshold)
  - model_id: "value_momentum_options_v1"
    base_parameters:
      target_positions: 20
      min_market_cap: 10000000000
      min_dollar_volume: 10000000
      max_volatility: 0.70
      min_roe: 0.10
      max_pe: 50
    sweep_parameters:
      momentum_6m_min: [-0.20, -0.10, 0.00, 0.05, 0.10]

  # Sweep 6: Sector rotation strength
  - model_id: "value_momentum_options_v1"
    base_parameters:
      target_positions: 20
      min_market_cap: 10000000000
      min_dollar_volume: 10000000
      max_volatility: 0.70
      min_roe: 0.10
      max_pe: 50
      momentum_6m_min: -0.10
    sweep_parameters:
      sector_rotation_strength: [0.0, 0.15, 0.30, 0.45, 0.60]

# Benchmarks for comparison
benchmarks:
  - type: "buy_and_hold"
    ticker: "AAPL"
    name: "Buy & Hold AAPL"

  - type: "equal_weight"
    name: "Equal Weight Universe"

# Settings
initial_capital: 1000000
transaction_cost_bps: 5
slippage_bps: 2  # Higher slippage for large-cap options trades

# Metrics to evaluate
metrics:
  - total_return
  - cagr
  - sharpe
  - volatility
  - max_drawdown
  - hit_rate

# Output directory
output_dir: "experiments/value_momentum_optimize_2024"
